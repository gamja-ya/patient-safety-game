<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í™˜ì ì•ˆì „ ì‚¬ê³  ë§ì¶”ê¸° ê²Œì„</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background-color: #f0f8ff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            text-align: center;
            overflow: hidden; /* í­ì£½ì´ íŠ€ì–´ë‚˜ê°€ì§€ ì•Šë„ë¡ */
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            width: 90%;
            max-width: 500px;
            position: relative; /* í­ì£½ ì»¨í…Œì´ë„ˆ ê¸°ì¤€ */
        }
        h1 { color: #0056b3; font-size: 1.5rem; margin-bottom: 20px; }
        .question-box {
            font-size: 1.3rem;
            font-weight: bold;
            background-color: #e9ecef;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            line-height: 1.6;
            word-break: keep-all;
        }
        .btn-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        button {
            padding: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            color: white;
            transition: transform 0.1s;
        }
        button:active { transform: scale(0.95); }
        
        .btn-fall { background-color: #ff6b6b; } /* ë‚™ìƒ - ë¹¨ê°• */
        .btn-med { background-color: #4dabf7; } /* íˆ¬ì•½ - íŒŒë‘ */
        .btn-id { background-color: #51cf66; } /* í™˜ìí™•ì¸ - ì´ˆë¡ */
        .btn-near { background-color: #fcc419; color: black; } /* ê·¼ì ‘ì˜¤ë¥˜ - ë…¸ë‘ */
        
        #result-area { display: none; margin-top: 20px; }
        #result-msg { font-size: 1.4rem; font-weight: bold; display: block; margin-bottom: 10px;}
        #next-btn { 
            background-color: #343a40; 
            width: 100%; 
            margin-top: 10px;
        }

        /* ì‹œì‘ í™”ë©´ */
        #start-screen { display: block; }
        #game-screen { display: none; }
        #end-screen { display: none; }
        .start-btn { background-color: #0056b3; width: 100%; font-size: 1.5rem; }

        /* í­ì£½ ì»¨í…Œì´ë„ˆ */
        #confetti-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* í´ë¦­ ë°©ì§€ */
            overflow: hidden; /* ì»¨í…Œì´ë„ˆ ë°–ìœ¼ë¡œ ë‚˜ê°€ì§€ ì•Šê²Œ */
            z-index: 1000; /* ë‹¤ë¥¸ ìš”ì†Œ ìœ„ë¡œ */
        }
    </style>
</head>
<body>

    <div class="container">
        <div id="start-screen">
            <h1>ğŸ¥ í™˜ì ì•ˆì „ í€´ì¦ˆ ğŸ¥</h1>
            <p style="font-size: 1.2rem; margin-bottom: 30px;">
                í™˜ìì—ê²Œ ì¼ì–´ë‚œ ìƒí™©ì„ ë³´ê³ <br>
                ì–´ë–¤ ì‚¬ê³ ì¸ì§€ ë§ì¶°ë³´ì„¸ìš”!
            </p>
            <button class="start-btn" onclick="startGame()">ê²Œì„ ì‹œì‘í•˜ê¸°</button>
        </div>

        <div id="game-screen">
            <div id="progress" style="margin-bottom:10px; color:#666;">ë¬¸ì œ 1 / 4</div>
            <div class="question-box" id="question-text">
                ë¬¸ì œê°€ ì—¬ê¸°ì— ë‚˜ì˜µë‹ˆë‹¤.
            </div>

            <div class="btn-grid" id="answer-buttons">
                <button class="btn-fall" onclick="checkAnswer('ë‚™ìƒ')">ğŸš¨ ë‚™ìƒ</button>
                <button class="btn-med" onclick="checkAnswer('íˆ¬ì•½ì˜¤ë¥˜')">ğŸ’Š íˆ¬ì•½ì˜¤ë¥˜</button>
                <button class="btn-id" onclick="checkAnswer('í™˜ìí™•ì¸')">ğŸ†” í™˜ìí™•ì¸</button>
                <button class="btn-near" onclick="checkAnswer('ê·¼ì ‘ì˜¤ë¥˜')">ğŸ˜… ê·¼ì ‘ì˜¤ë¥˜</button>
            </div>

            <div id="result-area">
                <span id="result-msg">ì •ë‹µì…ë‹ˆë‹¤!</span>
                <div id="explanation" style="font-size:1rem; color:#555; margin-bottom:15px;">ì„¤ëª…</div>
                <button id="next-btn" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ â¡</button>
            </div>
        </div>

        <div id="end-screen">
            <h1>ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤!ğŸ‘</h1>
            <p id="final-score" style="font-size: 1.5rem; font-weight:bold;">ê²°ê³¼</p>
            <p>í™˜ì ì•ˆì „, ìš°ë¦¬ ëª¨ë‘ í•¨ê»˜ ì§€ì¼œìš”!</p>
            <button class="start-btn" onclick="location.reload()">ë‹¤ì‹œ í•˜ê¸°</button>
        </div>
        
        <div id="confetti-container"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.min.js"></script>
    <script>
        // í€´ì¦ˆ ë°ì´í„° (ë¬¸ì œ ìˆ˜ì •ì€ ì—¬ê¸°ì„œ í•˜ì„¸ìš”)
        const quizData = [
            {
                text: "í™˜ìê°€ í™”ì¥ì‹¤ì„ ê°€ë ¤ê³  ì¹¨ëŒ€ì—ì„œ ë‚´ë ¤ì˜¤ë‹¤ê°€, ë°”ë‹¥ì— ë–¨ì–´ì§„ ë¬¼ê¸°ì— ë¯¸ë„ëŸ¬ì ¸ ì—‰ë©ë°©ì•„ë¥¼ ì°§ì—ˆìŠµë‹ˆë‹¤.",
                answer: "ë‚™ìƒ",
                explain: "ğŸ’¡ ë°”ë‹¥ì˜ ë¬¼ê¸°ë¥¼ ì¦‰ì‹œ ì œê±°í•˜ê³ , ë¯¸ë„ëŸ¼ ë°©ì§€ ì‹ ë°œì„ ì‹ ì–´ì•¼ í•©ë‹ˆë‹¤."
            },
            {
                text: "ê°„í˜¸ì‚¬ê°€ 'ê¹€ê°ì' ë‹˜ì—ê²Œ ì¤„ ì•½ì„ ë“¤ê³  ê°”ëŠ”ë°, í™•ì¸ì„ ì•ˆ í•˜ê³  ì˜† ì¹¨ëŒ€ì˜ 'ì´ê³ êµ¬ë§ˆ' ë‹˜ì—ê²Œ ì•½ì„ ì£¼ì—ˆìŠµë‹ˆë‹¤.",
                answer: "í™˜ìí™•ì¸",
                explain: "ğŸ’¡ íˆ¬ì•½ ì „ì—ëŠ” ë°˜ë“œì‹œ ê°œë°©í˜• ì§ˆë¬¸ìœ¼ë¡œ ì´ë¦„ì„ í™•ì¸í•˜ê³  íŒ”ì°Œë¥¼ ëŒ€ì¡°í•´ì•¼ í•©ë‹ˆë‹¤."
            },
            {
                text: "ì˜ì‚¬ ì²˜ë°©ì€ 'ì•„ì¹¨, ì €ë…' ë³µìš©ì¸ë°, ì‹¤ìˆ˜ë¡œ 'ì ì‹¬'ì—ë„ ì•½ì„ ì£¼ì–´ í™˜ìê°€ ì•½ì„ í•œ ë²ˆ ë” ë¨¹ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.",
                answer: "íˆ¬ì•½ì˜¤ë¥˜",
                explain: "ğŸ’¡ ì •í™•í•œ í™˜ì, ì •í™•í•œ ì•½ë¬¼, ì •í™•í•œ ì‹œê°„, ì •í™•í•œ ìš©ëŸ‰, ì •í™•í•œ ê²½ë¡œë¥¼ í™•ì¸í•˜ëŠ” '5 Right' ì›ì¹™ì´ ì¤‘ìš”í•©ë‹ˆë‹¤."
            },
            {
                text: "í™˜ìì—ê²Œ ì£¼ì‚¬ë¥¼ ë†“ìœ¼ë ¤ëŠ” 'ì§ì „'ì—, í™˜ì íŒ”ì°Œì˜ ì´ë¦„ì´ ë‹¤ë¥¸ ê²ƒì„ ë°œê²¬í•˜ê³  ì£¼ì‚¬ë¥¼ ë†“ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
                answer: "ê·¼ì ‘ì˜¤ë¥˜",
                explain: "ğŸ’¡ ì‚¬ê³ ê°€ ë°œìƒí•˜ê¸° ì „ì— ë°œê²¬í•œ 'ì•„ì°¨ì‚¬ê³ 'ì…ë‹ˆë‹¤. ì´ëŸ° ì‚¬ë¡€ë¥¼ ê³µìœ í•´ì•¼ í° ì‚¬ê³ ë¥¼ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
            }
        ];

        let currentQ = 0;
        let score = 0;

        // íš¨ê³¼ìŒ ê°ì²´ ìƒì„±
        const soundCorrect = new Audio('https://freesound.org/data/previews/273/273200_4698547-lq.mp3'); // ë”©ë™ëŒ•
        const soundWrong = new Audio('https://freesound.org/data/previews/407/407153_6455208-lq.mp3'); // ë¾± (í‹€ë¦° ì†Œë¦¬)
        const soundFinish = new Audio('https://freesound.org/data/previews/200/200388_3641151-lq.mp3'); // ì¶•í•˜ ë°•ìˆ˜
        
        // í­ì£½ ê°ì²´ ìƒì„±
        const jsConfetti = new JSConfetti({
            confettiNumber: 200, // í­ì£½ ê°œìˆ˜
            confettiRadius: 6 // í­ì£½ ì¡°ê° í¬ê¸°
        });

        function startGame() {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('game-screen').style.display = 'block';
            loadQuestion();
        }

        function loadQuestion() {
            // í™”ë©´ ì´ˆê¸°í™”
            document.getElementById('result-area').style.display = 'none';
            document.getElementById('answer-buttons').style.display = 'grid'; // ë²„íŠ¼ ë‹¤ì‹œ ë³´ì´ê¸°
            
            // ë¬¸ì œ ë‚´ìš© ë¡œë“œ
            document.getElementById('progress').innerText = `ë¬¸ì œ ${currentQ + 1} / ${quizData.length}`;
            document.getElementById('question-text').innerText = quizData[currentQ].text;
        }

        function checkAnswer(userAnswer) {
            const correctAnswer = quizData[currentQ].answer;
            const explanation = quizData[currentQ].explain;
            const resultMsg = document.getElementById('result-msg');
            const explanationDiv = document.getElementById('explanation');

            // ë²„íŠ¼ ìˆ¨ê¸°ê¸° (ì¤‘ë³µ í´ë¦­ ë°©ì§€ ë° ê²°ê³¼ ì§‘ì¤‘)
            document.getElementById('answer-buttons').style.display = 'none';
            document.getElementById('result-area').style.display = 'block';

            if (userAnswer === correctAnswer) {
                resultMsg.innerText = "â­• ì •ë‹µì…ë‹ˆë‹¤!";
                resultMsg.style.color = "blue";
                score++;
                soundCorrect.play(); // ì •ë‹µ íš¨ê³¼ìŒ ì¬ìƒ
                jsConfetti.addConfetti(); // í­ì£½ í„°ëœ¨ë¦¬ê¸°
            } else {
                resultMsg.innerText = `âŒ ë•¡! ì •ë‹µì€ '${correctAnswer}' ì…ë‹ˆë‹¤.`;
                resultMsg.style.color = "red";
                soundWrong.play(); // ì˜¤ë‹µ íš¨ê³¼ìŒ ì¬ìƒ
            }
            explanationDiv.innerText = explanation;
        }

        function nextQuestion() {
            currentQ++;
            if (currentQ < quizData.length) {
                loadQuestion();
            } else {
                showEndScreen();
            }
        }

        function showEndScreen() {
            document.getElementById('game-screen').style.display = 'none';
            document.getElementById('end-screen').style.display = 'block';
            document.getElementById('final-score').innerText = `${quizData.length}ë¬¸ì œ ì¤‘ ${score}ê°œ ë§ì¶¤!`;
            
            soundFinish.play(); // ê²Œì„ ì¢…ë£Œ íš¨ê³¼ìŒ ì¬ìƒ
            jsConfetti.addConfetti({ // ì¢…ë£Œ í™”ë©´ í­ì£½ì€ ì¢€ ë” í™”ë ¤í•˜ê²Œ
                confettiNumber: 300,
                confettiRadius: 8,
                confettiColors: ['#ff0a54', '#ff477e', '#ff7096', '#ff85a1', '#fbb1bd', '#f9bec7']
            });
        }
    </script>
</body>
</html>